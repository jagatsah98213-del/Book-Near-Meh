<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Supabase Test</title>
</head>
<body>
<h2>Supabase Test</h2>
<div id="result">Testing...</div>

<script type="module">
  import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.26.0/dist/supabase.min.js';

  // Your Supabase details
  const SUPABASE_URL = "https://pjydlzeuxmtaowpgqmol.supabase.co";
  const SUPABASE_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBqeWRsemV1eG10YW93cGdxbW9sIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ4MzkzMTAsImV4cCI6MjA4MDQxNTMxMH0.DjskIRS3PzSq01U-XxSClRK5Uy0n_bWrAFUHSacSNfo";

  const supabase = createClient(SUPABASE_URL, SUPABASE_KEY);

  async function testSupabase() {
    try {
      // Test fetching all books from 'books' table
      const { data, error } = await supabase.from('books').select('*');

      if(error) {
        document.getElementById('result').innerText = "Error: " + error.message;
        console.error(error);
      } else {
        document.getElementById('result').innerText = "Success! Books fetched: " + data.length;
        console.log("Books data:", data);
      }
    } catch(err) {
      document.getElementById('result').innerText = "Unexpected Error: " + err.message;
      console.error(err);
    }
  }

  testSupabase();
</script>
</body>
</html>
